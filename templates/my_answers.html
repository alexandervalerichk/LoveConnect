{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="glass-panel text-center p-4 mb-4 mx-auto" style="max-width: 600px;">
        <h2 class="mb-0 text-primary fw-bold">–ú–æ–∏ –æ—Ç–≤–µ—Ç—ã üíå</h2>
    </div>

    {% if answers %}
    <div class="d-flex flex-column gap-3 mx-auto" style="max-width: 800px;">
        {% for answer in answers %}
        <div class="glass-card border-0 p-4 position-relative overflow-hidden">
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—á—Ç–µ–Ω–∏—è (–ø–æ–ª–æ—Å–∫–∞) -->
            <div class="position-absolute top-0 start-0 bottom-0"
                style="width: 5px; background: {% if answer.is_read %}#cbd5e1{% else %}var(--primary){% endif %};">
            </div>

            <div class="d-flex justify-content-between align-items-center mb-3 ps-2">
                <div>
                    <a href="{% url 'user_detail' answer.responder.pk %}"
                        class="fw-bold text-decoration-none text-dark fs-5">
                        {{ answer.responder.username }}
                    </a>
                    <span class="text-muted small ms-2">–æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å:</span>
                </div>
                <small class="text-muted">{{ answer.created_at|date:"d M H:i" }}</small>
            </div>

            <div class="ps-2 mb-3 fst-italic text-muted border-start border-3 ms-1 ps-3">
                "{{ answer.question_text }}"
            </div>

            <div class="bg-light bg-opacity-50 p-3 rounded-3 ps-3 ms-1">
                {{ answer.answer_text }}
            </div>

            {% if not answer.is_read %}
            <span class="position-absolute top-0 end-0 m-2 badge bg-primary rounded-pill small">–ù–æ–≤–æ–µ</span>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-5">
        <div class="glass-panel d-inline-block p-5">
            <div class="display-1 mb-3">üì≠</div>
            <p class="text-muted mb-0">–í–∞–º –ø–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª.<br>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –±–æ–ª—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ! üòâ</p>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}